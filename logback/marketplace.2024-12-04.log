{"@timestamp":"2024-12-04T01:02:57.9190322+05:00","@version":"1","message":"Starting MarketplaceApplication using Java 17.0.12 with PID 18732 (C:\\Users\\user2\\IdeaProjects\\MarketPlaceDobrograd\\target\\classes started by user2 in C:\\Users\\user2\\IdeaProjects\\MarketPlaceDobrograd)","logger_name":"com.poptsov.marketplace.MarketplaceApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:02:57.9460304+05:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.poptsov.marketplace.MarketplaceApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:02:58.8816616+05:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:02:58.9695567+05:00","@version":"1","message":"Finished Spring Data repository scanning in 80 ms. Found 4 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:00.2298391+05:00","@version":"1","message":"Tomcat initialized with port 8081 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:00.2438361+05:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:00.2438361+05:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.31]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:00.3352492+05:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:00.336251+05:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 2335 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:00.6698047+05:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:00.8894859+05:00","@version":"1","message":"HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6b8bdcc6","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:00.8912699+05:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.0708606+05:00","@version":"1","message":"Set default schema name to public","logger_name":"liquibase.database","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.7505037+05:00","@version":"1","message":"Reading from public.databasechangelog","logger_name":"liquibase.changelog","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.7925048+05:00","@version":"1","message":"Database is up to date, no changesets to execute","logger_name":"liquibase.ui","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.7945019+05:00","@version":"1","message":"Reading from public.databasechangelog","logger_name":"liquibase.changelog","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.8045001+05:00","@version":"1","message":"UPDATE SUMMARY","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.8055016+05:00","@version":"1","message":"Run:                          0","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.8055016+05:00","@version":"1","message":"Previously run:               2","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.8055016+05:00","@version":"1","message":"Filtered out:                 0","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.8055016+05:00","@version":"1","message":"-------------------------------","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.8055016+05:00","@version":"1","message":"Total change sets:            2","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.8065037+05:00","@version":"1","message":"Update summary generated","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.8085014+05:00","@version":"1","message":"Command execution complete","logger_name":"liquibase.command","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:01.9745069+05:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:02.0705048+05:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.5.3.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:02.1225027+05:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:02.4710313+05:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:02.5280322+05:00","@version":"1","message":"HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger_name":"org.hibernate.orm.deprecation","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2024-12-04T01:03:04.3212604+05:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:04.4542591+05:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:05.334212+05:00","@version":"1","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","logger_name":"org.springframework.data.jpa.repository.query.QueryEnhancerFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:06.9003896+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:06.9813951+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a001b1fb18@61906bb1","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:06.9813951+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:07.0010908+05:00","@version":"1","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","logger_name":"org.springframework.security.config.annotation.authentication.configuration.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:07.6963656+05:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2024-12-04T01:03:10.6930573+05:00","@version":"1","message":"Tomcat started on port 8081 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:10.7050571+05:00","@version":"1","message":"Started MarketplaceApplication in 13.48 seconds (process running for 14.77)","logger_name":"com.poptsov.marketplace.MarketplaceApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:50.2250246+05:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:50.2271694+05:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:03:50.2311658+05:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:26.6664489+05:00","@version":"1","message":"Starting MarketplaceApplication using Java 17.0.12 with PID 12528 (C:\\Users\\user2\\IdeaProjects\\MarketPlaceDobrograd\\target\\classes started by user2 in C:\\Users\\user2\\IdeaProjects\\MarketPlaceDobrograd)","logger_name":"com.poptsov.marketplace.MarketplaceApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:26.6794459+05:00","@version":"1","message":"No active profile set, falling back to 1 default profile: \"default\"","logger_name":"com.poptsov.marketplace.MarketplaceApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:27.4803736+05:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:27.5623807+05:00","@version":"1","message":"Finished Spring Data repository scanning in 74 ms. Found 4 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:28.6249016+05:00","@version":"1","message":"Tomcat initialized with port 8081 (http)","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:28.6409003+05:00","@version":"1","message":"Starting service [Tomcat]","logger_name":"org.apache.catalina.core.StandardService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:28.6409003+05:00","@version":"1","message":"Starting Servlet engine: [Apache Tomcat/10.1.31]","logger_name":"org.apache.catalina.core.StandardEngine","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:28.7169122+05:00","@version":"1","message":"Initializing Spring embedded WebApplicationContext","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:28.7169122+05:00","@version":"1","message":"Root WebApplicationContext: initialization completed in 1990 ms","logger_name":"org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:28.9889008+05:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.3109007+05:00","@version":"1","message":"HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@740c4868","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.3139+05:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.4638994+05:00","@version":"1","message":"Set default schema name to public","logger_name":"liquibase.database","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.874902+05:00","@version":"1","message":"Reading from public.databasechangelog","logger_name":"liquibase.changelog","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9249008+05:00","@version":"1","message":"Database is up to date, no changesets to execute","logger_name":"liquibase.ui","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9269033+05:00","@version":"1","message":"Reading from public.databasechangelog","logger_name":"liquibase.changelog","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9339007+05:00","@version":"1","message":"UPDATE SUMMARY","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9349004+05:00","@version":"1","message":"Run:                          0","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9349004+05:00","@version":"1","message":"Previously run:               2","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9349004+05:00","@version":"1","message":"Filtered out:                 0","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9349004+05:00","@version":"1","message":"-------------------------------","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9349004+05:00","@version":"1","message":"Total change sets:            2","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9359006+05:00","@version":"1","message":"Update summary generated","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:29.9379029+05:00","@version":"1","message":"Command execution complete","logger_name":"liquibase.command","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:30.0868991+05:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:30.1639475+05:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.5.3.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:30.2069467+05:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:30.5499601+05:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:30.6049601+05:00","@version":"1","message":"HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger_name":"org.hibernate.orm.deprecation","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2024-12-04T01:04:31.8263969+05:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:31.9383983+05:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:32.7973976+05:00","@version":"1","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","logger_name":"org.springframework.data.jpa.repository.query.QueryEnhancerFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:34.2296307+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:34.3026193+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@48bd8247","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:34.303618+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:34.3236205+05:00","@version":"1","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","logger_name":"org.springframework.security.config.annotation.authentication.configuration.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:34.6946226+05:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2024-12-04T01:04:36.7255101+05:00","@version":"1","message":"Tomcat started on port 8081 (http) with context path '/'","logger_name":"org.springframework.boot.web.embedded.tomcat.TomcatWebServer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:04:36.7375102+05:00","@version":"1","message":"Started MarketplaceApplication in 10.539 seconds (process running for 11.901)","logger_name":"com.poptsov.marketplace.MarketplaceApplication","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:14.4401291+05:00","@version":"1","message":"Initializing Spring DispatcherServlet 'dispatcherServlet'","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/]","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:14.4401291+05:00","@version":"1","message":"Initializing Servlet 'dispatcherServlet'","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:14.4421217+05:00","@version":"1","message":"Completed initialization in 1 ms","logger_name":"org.springframework.web.servlet.DispatcherServlet","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:14.4637027+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:14.4647021+05:00","@version":"1","message":"Bearer is empty, return filterChain.doFilter","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:14.6037051+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/auth/login, HTTP_METHOD: POST, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.AuthController.signIn","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:14.6067051+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.AuthenticationService.signIn\n METHOD ARGUMENTS: [[LoginDto(username=Roo831, password=AueBasota2281488!@Qw)]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:14.6067051+05:00","@version":"1","message":"Sign In process start...","logger_name":"com.poptsov.marketplace.service.AuthenticationService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.1857159+05:00","@version":"1","message":"Try to get user by Username...","logger_name":"com.poptsov.marketplace.service.AuthenticationService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.1857159+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.1866886+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@62beb513","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.1866886+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.189691+05:00","@version":"1","message":"Try to generate token...","logger_name":"com.poptsov.marketplace.service.AuthenticationService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.189691+05:00","@version":"1","message":"Payload generated...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.1906902+05:00","@version":"1","message":"Generating token...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.2430321+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.280772+05:00","@version":"1","message":"Token generated for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.280772+05:00","@version":"1","message":"Sign In successful!, return token.","logger_name":"com.poptsov.marketplace.service.AuthenticationService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.280772+05:00","@version":"1","message":"SERVICE RETURN RESULT: JwtAuthenticationResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJmaXJzdG5hbWUiOiJBZG1pbiIsInJvbGUiOiJhZG1pbiIsImlkIjoxLCJpc0FkbWluIjp0cnVlLCJsYXN0bmFtZSI6IkFkbWlub3ZpY2giLCJzdWIiOiJSb284MzEiLCJpYXQiOjE3MzMyNTY1NTUsImV4cCI6MTczMzQwMDU1NX0.Ny3GuYMdiO75GMLlz5VF72HzJwtMSxcsjMCd1wHNNZs)","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.2817838+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.AuthenticationService.signIn","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.2817838+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: JwtAuthenticationResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJmaXJzdG5hbWUiOiJBZG1pbiIsInJvbGUiOiJhZG1pbiIsImlkIjoxLCJpc0FkbWluIjp0cnVlLCJsYXN0bmFtZSI6IkFkbWlub3ZpY2giLCJzdWIiOiJSb284MzEiLCJpYXQiOjE3MzMyNTY1NTUsImV4cCI6MTczMzQwMDU1NX0.Ny3GuYMdiO75GMLlz5VF72HzJwtMSxcsjMCd1wHNNZs)","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.2817838+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.AuthController.signIn","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:15.2817838+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.AuthController.signIn. Execution time: 678","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.7456109+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.7456109+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.7466167+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.7476127+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.765073+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.7889689+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.7889689+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.7899836+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@10d9eaf","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.7899836+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8247067+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8257062+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8327081+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8327081+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8327081+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8327081+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8327081+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8327081+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8327081+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8327081+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8337072+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8337072+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8337072+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8347078+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8347078+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8347078+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8347078+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8347078+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8357073+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8357073+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8357073+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8589629+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/shops/create, HTTP_METHOD: POST, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.ShopController.create","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8599612+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.ShopService.create\n METHOD ARGUMENTS: [[ShopCreateDto(name=penis v pope, address=Линкольн 1, specialization=chief, description=Перечень товаров: бургер)]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8599612+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.findCurrentUser\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8639626+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.database.entity.User@5aa6c1ce","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.8639626+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.findCurrentUser","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.9119606+05:00","@version":"1","message":"SERVICE RETURN RESULT: ShopReadDto(id=1, name=penis v pope, address=Линкольн 1, rating=1, isActive=false, specialization=chief, createdAt=Wed Dec 04 01:09:54 YEKT 2024, description=Перечень товаров: бургер, userId=1)","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.9159593+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.ShopService.create","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.9179647+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: <200 OK OK,ShopReadDto(id=1, name=penis v pope, address=Линкольн 1, rating=1, isActive=false, specialization=chief, createdAt=Wed Dec 04 01:09:54 YEKT 2024, description=Перечень товаров: бургер, userId=1),[]>","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.9189617+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.ShopController.create","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.9189617+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.ShopController.create. Execution time: 60","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:54.9269654+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7585592+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7585592+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7585592+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7585592+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7600252+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7610201+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7610201+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7620165+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@1b094807","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7620165+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7650167+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7660276+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7710278+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7720188+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7720188+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7720188+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7720188+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7720188+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7720188+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7720188+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7720188+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7730178+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7730178+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.774019+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.774019+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.774019+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.775017+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.775017+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.775017+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.775017+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.775017+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7770156+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/shops/create, HTTP_METHOD: POST, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.ShopController.create","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7770156+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.ShopService.create\n METHOD ARGUMENTS: [[ShopCreateDto(name=penis v pope, address=Линкольн 1, specialization=chief, description=Перечень товаров: бургер)]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7780156+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.findCurrentUser\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7820189+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.database.entity.User@30e77a4a","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7820189+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.findCurrentUser","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7845564+05:00","@version":"1","message":"Service exception in ShopService.create with arguments [ShopCreateDto(name=penis v pope, address=Линкольн 1, specialization=chief, description=Перечень товаров: бургер)], Exception message: Shop already exists","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T01:09:57.785021+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.ShopService.create","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.785021+05:00","@version":"1","message":"Controller exception in ShopController.create with arguments [ShopCreateDto(name=penis v pope, address=Линкольн 1, specialization=chief, description=Перечень товаров: бургер)], Exception message: Shop already exists","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T01:09:57.785021+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.ShopController.create","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:09:57.7898563+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4514834+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4514834+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4514834+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4524855+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4524855+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4524855+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4524855+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4534885+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@68a730d5","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4544867+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4582047+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4582047+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4631375+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4631375+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4631375+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4631375+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4631375+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4631375+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4631375+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4631375+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4631375+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4641317+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4641317+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4641317+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4641317+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4641317+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4652648+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4652648+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4652648+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4652648+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4652648+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4723655+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/shops/myShop/edit, HTTP_METHOD: PATCH, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.ShopController.edit","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4733664+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.ShopService.update\n METHOD ARGUMENTS: [[ShopEditDto(name=GunSho2, address=Линкольн 78, specialization=gundealer, description=Перечень товаров: Без шпендиксов)]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4733664+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.findCurrentUser\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4773697+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.database.entity.User@22c0c475","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4773697+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.findCurrentUser","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4903701+05:00","@version":"1","message":"SERVICE RETURN RESULT: ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=false, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1)","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4903701+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.ShopService.update","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4903701+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: <200 OK OK,ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=false, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1),[]>","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.491366+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.ShopController.edit","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.491366+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.ShopController.edit. Execution time: 19","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:04.4933654+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-6","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.6996484+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.6996484+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.6996484+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.6996484+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.6996484+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7006479+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7006479+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7016486+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@1a2266be","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7026496+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7066473+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7066473+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7116481+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7126476+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7126476+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7126476+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7126476+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7126476+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7126476+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7126476+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7126476+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.713646+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.713646+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.713646+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.713646+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.713646+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.713646+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.713646+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7146474+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7146474+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7146474+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.72065+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/shops/myShop/editStatus, HTTP_METHOD: PATCH, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.ShopController.switchActiveStatusOfMyShop","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.72065+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.ShopService.switchActiveStatusOfMyShop\n METHOD ARGUMENTS: [[ShopEditStatusDto(active=true)]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.72065+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.findCurrentUser\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7256514+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.database.entity.User@3c479bad","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7256514+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.findCurrentUser","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7286485+05:00","@version":"1","message":"SERVICE RETURN RESULT: ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=true, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1)","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7286485+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.ShopService.switchActiveStatusOfMyShop","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7286485+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: <200 OK OK,ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=true, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1),[]>","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7286485+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.ShopController.switchActiveStatusOfMyShop","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7296488+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.ShopController.switchActiveStatusOfMyShop. Execution time: 9","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:41.7316487+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-7","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8674553+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8682735+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8682735+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8682735+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8682735+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8692654+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8692654+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8701528+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@3ebb643","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8706797+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.873216+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.873216+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8779171+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8779171+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8779171+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8789179+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8789179+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8789179+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8789179+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8789179+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8789179+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8799172+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8799172+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8799172+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8799172+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8799172+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8809213+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8809213+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8809213+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8809213+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8809213+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.882918+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/shops/myShop, HTTP_METHOD: GET, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.ShopController.getMyShop","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.882918+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.ShopService.findMyShop\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.882918+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.findCurrentUser\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8859188+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.database.entity.User@747d7a17","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8869256+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.findCurrentUser","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8869256+05:00","@version":"1","message":"SERVICE RETURN RESULT: ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=true, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1)","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8869256+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.ShopService.findMyShop","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8869256+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: <200 OK OK,ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=true, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1),[]>","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8879195+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.ShopController.getMyShop","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8879195+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.ShopController.getMyShop. Execution time: 5","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:10:55.8899181+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-8","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2618987+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2618987+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2618987+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2618987+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2618987+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2638973+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2638973+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2648945+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@5bd6fa61","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2648945+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2678963+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2678963+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2708963+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2718982+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2718982+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2718982+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2718982+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2718982+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2718982+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2718982+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2718982+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.272899+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.272899+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.272899+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.272899+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.272899+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2739048+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2739048+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2739048+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2739048+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2739048+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2748954+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/shops/active, HTTP_METHOD: GET, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.ShopController.getActiveShops","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2748954+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.ShopService.findActiveShops\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.287898+05:00","@version":"1","message":"SERVICE RETURN RESULT: [ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=true, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1)]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.287898+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.ShopService.findActiveShops","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.287898+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: <200 OK OK,[ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=true, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1)],[]>","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.287898+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.ShopController.getActiveShops","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.287898+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.ShopController.getActiveShops. Execution time: 13","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:01.2918966+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-9","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4334683+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4334683+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4334683+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4334683+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4334683+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4344707+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4344707+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4354701+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@9db37c0","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4364733+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4394835+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4394835+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4434741+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4434741+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4434741+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4434741+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4434741+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4434741+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4434741+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4434741+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4444771+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4444771+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4444771+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4444771+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4444771+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4454736+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4454736+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4454736+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4454736+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4454736+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4454736+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4464738+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/shops/myShop/orders, HTTP_METHOD: GET, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.ShopController.getMyShopOrders","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4464738+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.OrderService.findOrdersOfMyShop\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4474719+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.findCurrentUser\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4504727+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.database.entity.User@6b3a7de1","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4504727+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.findCurrentUser","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.456599+05:00","@version":"1","message":"SERVICE RETURN RESULT: []","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.456599+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.OrderService.findOrdersOfMyShop","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.456599+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: <200 OK OK,[],[]>","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4578119+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.ShopController.getMyShopOrders","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.457867+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.ShopController.getMyShopOrders. Execution time: 11","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:27.4588264+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-10","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:35.3064161+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:35.3064161+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:35.3064161+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:35.3064161+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:35.3064161+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-1","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:35.3084161+05:00","@version":"1","message":"Failed to extract claims from token: JWT expired 381936307 milliseconds ago at 2024-11-29T10:05:59.000Z. Current time: 2024-12-03T20:11:35.307Z. Allowed clock skew: 0 milliseconds.","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-1","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T01:11:35.3094174+05:00","@version":"1","message":"JWT expired: JWT expired 381936307 milliseconds ago at 2024-11-29T10:05:59.000Z. Current time: 2024-12-03T20:11:35.307Z. Allowed clock skew: 0 milliseconds.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-1","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T01:11:39.0921696+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.0931691+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.0931691+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.0931691+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.0931691+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.0941707+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.0941707+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.0951777+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@62083db8","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.0951777+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.099169+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.099169+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1024432+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1024432+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1024432+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1024432+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1024432+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1024432+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1024432+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1024432+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1024432+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1031948+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1031948+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1031948+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1031948+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1031948+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1041915+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1041915+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1041915+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1041915+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1041915+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1061937+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/shops/1, HTTP_METHOD: GET, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.ShopController.findById","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1061937+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.ShopService.findById\n METHOD ARGUMENTS: [[1]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1129463+05:00","@version":"1","message":"SERVICE RETURN RESULT: ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=true, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1)","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1139442+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.ShopService.findById","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1139442+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: <200 OK OK,ShopReadDto(id=1, name=GunSho2, address=Линкольн 78, rating=1, isActive=true, specialization=gundealer, createdAt=2024-12-04 01:09:54.864, description=Перечень товаров: Без шпендиксов, userId=1),[]>","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1139442+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.ShopController.findById","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1139442+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.ShopController.findById. Execution time: 7","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:39.1159453+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-2","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7832446+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7832446+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7832446+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7832446+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7832446+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.78424+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.78424+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7852575+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@56783676","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7852575+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.787518+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7885185+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7921278+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7921278+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7921278+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7921278+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7921278+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7921278+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7921278+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7921278+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7921278+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7931283+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7931283+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7931283+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7931283+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7931283+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7941443+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7941443+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7941443+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7941443+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.7941443+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.803811+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/orders/create, HTTP_METHOD: POST, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.OrderController.create","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.8048242+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.OrderService.create\n METHOD ARGUMENTS: [[1, OrderCreateDto(name=Бургер 2 штуки, description=глок блин и патроны 2 пачки, price=12000)]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.8048242+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.findCurrentUser\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.8078114+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.database.entity.User@59500b62","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.8078114+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.findCurrentUser","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.8148127+05:00","@version":"1","message":"SERVICE RETURN RESULT: OrderReadDto(orderId=1, createdAt=Wed Dec 04 01:11:59 YEKT 2024, status=pending, name=Бургер 2 штуки, description=глок блин и патроны 2 пачки, price=12000, userId=1, shopId=1)","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.8198106+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.OrderService.create","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.819996+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: <200 OK OK,OrderReadDto(orderId=1, createdAt=Wed Dec 04 01:11:59 YEKT 2024, status=pending, name=Бургер 2 штуки, description=глок блин и патроны 2 пачки, price=12000, userId=1, shopId=1),[]>","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.819996+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.OrderController.create","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.819996+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.OrderController.create. Execution time: 16","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:11:59.8248347+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-3","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:12.9387264+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:12.9397283+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:12.9397283+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:12.9397283+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:12.9397283+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:12.9403624+05:00","@version":"1","message":"Failed to extract claims from token: JWT expired 381973940 milliseconds ago at 2024-11-29T10:05:59.000Z. Current time: 2024-12-03T20:12:12.940Z. Allowed clock skew: 0 milliseconds.","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-5","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T01:12:12.9413622+05:00","@version":"1","message":"JWT expired: JWT expired 381973940 milliseconds ago at 2024-11-29T10:05:59.000Z. Current time: 2024-12-03T20:12:12.940Z. Allowed clock skew: 0 milliseconds.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-5","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T01:12:16.3177592+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3187726+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3187726+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3187726+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3187726+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3187726+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3187726+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3197711+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1649/0x000001a301b1a230@67d66492","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3197711+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3237602+05:00","@version":"1","message":"User  found: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3237602+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.isUserBanned\n METHOD ARGUMENTS: [[Roo831]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3267639+05:00","@version":"1","message":"SERVICE RETURN RESULT: false","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3267639+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.isUserBanned","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3267639+05:00","@version":"1","message":"Ban checked for user: Roo831","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3267639+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3267639+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3267639+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3267639+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3267639+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3267639+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3277713+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3277713+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3277713+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3277713+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3277713+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3277713+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3287615+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3287615+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3287615+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3287615+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3297651+05:00","@version":"1","message":"RUN CONTROLLER: New Request: IP: 0:0:0:0:0:0:0:1, URL: http://localhost:8081/orders/1/owner, HTTP_METHOD: GET, CONTROLLER_METHOD: com.poptsov.marketplace.http.rest.OrderController.findOwnerByOrderId","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3307593+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.findOwnerByOrderId\n METHOD ARGUMENTS: [[1]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3357587+05:00","@version":"1","message":"SERVICE RETURN RESULT: UserReadDto(id=1, username=Roo831, email=Helpmeplsmen@gmail.com, firstname=Admin, lastname=Adminovich, steamId=STEAM_1:0:203160294, role=admin, isAdmin=true, isBanned=false, createdAt=2024-12-01 07:45:56.765887)","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3397625+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.findOwnerByOrderId","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3397625+05:00","@version":"1","message":"CONTROLLER RETURN RESULT: <200 OK OK,UserReadDto(id=1, username=Roo831, email=Helpmeplsmen@gmail.com, firstname=Admin, lastname=Adminovich, steamId=STEAM_1:0:203160294, role=admin, isAdmin=true, isBanned=false, createdAt=2024-12-01 07:45:56.765887),[]>","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3407629+05:00","@version":"1","message":"CONTROLLER METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.http.rest.OrderController.findOwnerByOrderId","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3407629+05:00","@version":"1","message":"Execution method: com.poptsov.marketplace.http.rest.OrderController.findOwnerByOrderId. Execution time: 11","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:12:16.3470099+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"http-nio-8081-exec-4","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:13:06.5081448+05:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:13:06.5101468+05:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T01:13:06.5181456+05:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.4611282+05:00","@version":"1","message":"Payload generated...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.473732+05:00","@version":"1","message":"Generating token...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.5343136+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.6371447+05:00","@version":"1","message":"Token generated for user: Test Username","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.6391447+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.6401447+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.6401447+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.6601488+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7138062+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7138062+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7148034+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7148034+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7148034+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7168058+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7353688+05:00","@version":"1","message":"Payload generated...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7363694+05:00","@version":"1","message":"Generating token...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7363694+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7373689+05:00","@version":"1","message":"Token generated for user: Test Username","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7373689+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7373689+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7373689+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7403686+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7403686+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7413696+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7413696+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7423694+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7423694+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7423694+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7423694+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7423694+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7433706+05:00","@version":"1","message":"Is token valid = true","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7533715+05:00","@version":"1","message":"Checking if token is valid...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7543701+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7543701+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7543701+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.755373+05:00","@version":"1","message":"Failed to extract claims from token: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 1","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T06:09:11.7603713+05:00","@version":"1","message":"Payload generated...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7613693+05:00","@version":"1","message":"Generating expired token...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7613693+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7623692+05:00","@version":"1","message":"Expired token generated for user: Test Username","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7623692+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7623692+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.76337+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.76337+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.76337+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7659657+05:00","@version":"1","message":"Failed to extract claims from token: JWT expired 144000764 milliseconds ago at 2024-12-02T09:09:11.000Z. Current time: 2024-12-04T01:09:11.764Z. Allowed clock skew: 0 milliseconds.","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T06:09:11.7719663+05:00","@version":"1","message":"Payload generated...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7719663+05:00","@version":"1","message":"Generating token...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7719663+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7729683+05:00","@version":"1","message":"Token generated for user: Test Username","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7729683+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7729683+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7739668+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7789658+05:00","@version":"1","message":"Payload generated...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7789658+05:00","@version":"1","message":"Generating token...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7789658+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7809672+05:00","@version":"1","message":"Token generated for user: Test Username","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7809672+05:00","@version":"1","message":"Checking if token is expired...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7809672+05:00","@version":"1","message":"Extracting expiration date...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7809672+05:00","@version":"1","message":"Extracting claim...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7809672+05:00","@version":"1","message":"Extracting all claims...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:11.7809672+05:00","@version":"1","message":"Getting signing key...","logger_name":"com.poptsov.marketplace.security.JwtService","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.2545188+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.2756199+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.2806219+05:00","@version":"1","message":"Username not null, and authentication is null, try to get user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.2816181+05:00","@version":"1","message":"User  found: null","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.28462+05:00","@version":"1","message":"Ban checked for user: testUser","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.285619+05:00","@version":"1","message":"User  is not banned.","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.285619+05:00","@version":"1","message":"Try to authenticate user...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.285619+05:00","@version":"1","message":"Token is valid, create context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.2886202+05:00","@version":"1","message":"Generate new UsernamePasswordAuthenticationToken...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.2906213+05:00","@version":"1","message":"Put authToken into context...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.291618+05:00","@version":"1","message":"Put context into SecurityContextHolder","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.291618+05:00","@version":"1","message":"doFilterInternal end","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.4238544+05:00","@version":"1","message":"doFilterInternal start","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.4238544+05:00","@version":"1","message":"Bearer is not empty, get jwt and extract username from jwt...","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:09:18.4258559+05:00","@version":"1","message":"Error extracting username from JWT: Invalid token","logger_name":"com.poptsov.marketplace.security.JwtAuthenticationFilter","thread_name":"main","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T06:10:28.0635912+05:00","@version":"1","message":"Starting ShopServiceIT using Java 17.0.12 with PID 9168 (started by user2 in C:\\Users\\user2\\IdeaProjects\\MarketPlaceDobrograd)","logger_name":"com.poptsov.marketplace.integration.service.ShopServiceIT","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:28.0821949+05:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger_name":"com.poptsov.marketplace.integration.service.ShopServiceIT","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:29.1376569+05:00","@version":"1","message":"Bootstrapping Spring Data JPA repositories in DEFAULT mode.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:29.2418149+05:00","@version":"1","message":"Finished Spring Data repository scanning in 92 ms. Found 4 JPA repository interfaces.","logger_name":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:30.3108088+05:00","@version":"1","message":"HikariPool-1 - Starting...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:30.6293994+05:00","@version":"1","message":"HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f2d3391","logger_name":"com.zaxxer.hikari.pool.HikariPool","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:30.6324034+05:00","@version":"1","message":"HikariPool-1 - Start completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:30.8605241+05:00","@version":"1","message":"Set default schema name to public","logger_name":"liquibase.database","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.3778168+05:00","@version":"1","message":"Reading from public.databasechangelog","logger_name":"liquibase.changelog","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.4233868+05:00","@version":"1","message":"Database is up to date, no changesets to execute","logger_name":"liquibase.ui","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.4263908+05:00","@version":"1","message":"Reading from public.databasechangelog","logger_name":"liquibase.changelog","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.439389+05:00","@version":"1","message":"UPDATE SUMMARY","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.439389+05:00","@version":"1","message":"Run:                          0","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.439389+05:00","@version":"1","message":"Previously run:               2","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.439389+05:00","@version":"1","message":"Filtered out:                 0","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.439389+05:00","@version":"1","message":"-------------------------------","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.440388+05:00","@version":"1","message":"Total change sets:            2","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.4413879+05:00","@version":"1","message":"Update summary generated","logger_name":"liquibase.util","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.4423875+05:00","@version":"1","message":"Command execution complete","logger_name":"liquibase.command","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.6908508+05:00","@version":"1","message":"HHH000204: Processing PersistenceUnitInfo [name: default]","logger_name":"org.hibernate.jpa.internal.util.LogHelper","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.8182146+05:00","@version":"1","message":"HHH000412: Hibernate ORM core version 6.5.3.Final","logger_name":"org.hibernate.Version","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:31.884799+05:00","@version":"1","message":"HHH000026: Second-level cache disabled","logger_name":"org.hibernate.cache.internal.RegionFactoryInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:32.4034755+05:00","@version":"1","message":"No LoadTimeWeaver setup: ignoring JPA class transformer","logger_name":"org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:32.4836724+05:00","@version":"1","message":"HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger_name":"org.hibernate.orm.deprecation","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2024-12-04T06:10:33.9495071+05:00","@version":"1","message":"HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)","logger_name":"org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:34.0823384+05:00","@version":"1","message":"Initialized JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:35.2871979+05:00","@version":"1","message":"Hibernate is in classpath; If applicable, HQL parser will be used.","logger_name":"org.springframework.data.jpa.repository.query.QueryEnhancerFactory","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:36.5953244+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.UserService.userDetailsService\n METHOD ARGUMENTS: [METHOD HAS NO ARGUMENTS]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:36.6595428+05:00","@version":"1","message":"SERVICE RETURN RESULT: com.poptsov.marketplace.service.UserService$$Lambda$1773/0x0000017888af7070@41e5038a","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:36.6595428+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.UserService.userDetailsService","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:36.674544+05:00","@version":"1","message":"Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider","logger_name":"org.springframework.security.config.annotation.authentication.configuration.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:36.9805911+05:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger_name":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread_name":"main","level":"WARN","level_value":30000}
{"@timestamp":"2024-12-04T06:10:38.9236889+05:00","@version":"1","message":"Started ShopServiceIT in 11.217 seconds (process running for 13.018)","logger_name":"com.poptsov.marketplace.integration.service.ShopServiceIT","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:39.3878823+05:00","@version":"1","message":"RUN SERVICE: SERVICE METHOD : com.poptsov.marketplace.service.ShopService.findById\n METHOD ARGUMENTS: [[2]]","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:39.4504496+05:00","@version":"1","message":"Service exception in ShopService.findById with arguments [2], Exception message: Shop not found with id: 2","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"ERROR","level_value":40000}
{"@timestamp":"2024-12-04T06:10:39.4504496+05:00","@version":"1","message":"SERVICE METHOD EXECUTED SUCCESSFULLY: com.poptsov.marketplace.service.ShopService.findById","logger_name":"com.poptsov.marketplace.aop.LoggingAspect","thread_name":"main","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:39.4800381+05:00","@version":"1","message":"Closing JPA EntityManagerFactory for persistence unit 'default'","logger_name":"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:39.4820353+05:00","@version":"1","message":"HikariPool-1 - Shutdown initiated...","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
{"@timestamp":"2024-12-04T06:10:39.494037+05:00","@version":"1","message":"HikariPool-1 - Shutdown completed.","logger_name":"com.zaxxer.hikari.HikariDataSource","thread_name":"SpringApplicationShutdownHook","level":"INFO","level_value":20000}
